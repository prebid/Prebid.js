<!--

-->

<html>

<head>
    <script async src="../../build/dev/prebid.js"></script>
    <script src="https://cdn.jwplayer.com/libraries/l5MchIxB.js"></script>

    <script>
      var pbjs = pbjs || {};
      pbjs.que = pbjs.que || [];

      var adUnits = [{
        code: 'div-gpt-ad-51545-0',
        mediaTypes: {
          video: {}
        },
        video: {
          divId: 'vid-div-1',
          adServer: {
            vendorCode: "gam",
            params: {
              iu: '/19968336/prebid_cache_video_adunit',
              cust_params: {
                section: 'blog',
                anotherKey: 'anotherValue'
              },
              output: 'vast'
            }
          },
        },

        // Replace this object to test a new Adapter!
        bids: [{
          bidder: 'appnexus',
          params: {
            placementId: 13144370
          }
        }]
      }];


      pbjs.que.push(function () {
        pbjs.setConfig({
          video: {
            providers: [{
              divId: 'vid-div-1',
              vendorCode: 1,
              playerConfig: {
                licenseKey: 'huJTAG1dRVvvE1bT4Ng2DEnZ2ogCSgwTLwQBp8Cp9BDyAgkKC7uLuw==',
                params: {
                  vendorConfig: {
                    "file": "http://content.bitsontherun.com/videos/3XnJSIm4-52qL9xLP.mp4",
                    mediaid: 'd9J2zcaA',
                    advertising: { client: 'googima' }
                    }
                }
              },
              adServer: {
                vendorCode: "gam"
              }
            }, {
              divId: 'vid-div-2',
              vendorCode: 1,
              playerConfig: {
                licenseKey: 'huJTAG1dRVvvE1bT4Ng2DEnZ2ogCSgwTLwQBp8Cp9BDyAgkKC7uLuw==',
                params: {
                  vendorConfig: {
                    "file": "http://content.bitsontherun.com/videos/bkaovAYt-DZ7jSYgM.mp4",
                    mediaid: 'bkaovAYt',
                    advertising: { client: 'googima' }
                  }
                }
              },
              adServer: {
                vendorCode: "gam"
              }
            }]
          }
        });

        pbjs.onEvent('setupComplete', () => {
          console.log('player setup complete');
        });

        pbjs.onEvent('setupFailed', () => {
          console.log('player setup failed!');
        });

        pbjs.onEvent('auctionAdLoadAttempt', event => {
          console.log('The Video Module is attempting to load an ad into the player! \n', event);
        });

        pbjs.onEvent('adImpression', event => {
          console.log('An ad impression has occurred!: \n', event);
        });

        pbjs.onEvent('bidVideoImpression', event => {
          console.log('The ad impression resulted from a bid! \n', event);
        });

        pbjs.onEvent('adError', event => {
          console.log('An ad error has occurred!: ', event);
        });

        pbjs.onEvent('bidVideoError', event => {
          console.log('The ad error resulted from a bid! \n', event);
        });

        pbjs.addAdUnits(adUnits);
        pbjs.requestBids({
          adUnits
        });
      });
    </script>
</head>

<body>
    <h2>Prebid.js Test</h2>
    <h5>Div-1</h5>
    <div id='vid-div-1'></div>
    <h5>Div-2</h5>
    <div id='vid-div-2'></div>
</body>

</html>

