<html>

<head>
    <script async src="../../../build/dev/prebid.js"></script>
    <link href="https://vjs.zencdn.net/7.17.0/video-js.css" rel="stylesheet" />
    <!-- Setup ad units -->
    <script>
      var adUnits = [{
        code: 'div-gpt-ad-51545-0',
        sizes: [[600, 500]],
        mediaTypes: {
          video: {
            sizes: [[600, 500]]
          }
        },
        video: {
          divId: 'vid-div-1',
          adServer: {
            vendorCode: "gam",
            params: {
              iu: '/19968336/prebid_cache_video_adunit',
              cust_params: {
                section: 'blog',
                anotherKey: 'anotherValue'
              },
              output: 'vast'
            }
          },
        },

        bids: [{
          bidder: 'ix',
          params: {
            siteId: '300',
            size: [600, 500]
          }
        }]
      }];

      var pbjs = pbjs || {};
      pbjs.que = pbjs.que || [];

      pbjs.que.push(function () {
        pbjs.onEvent('adImpression', event => {
          console.log('adImpression: ', event);
        });
        pbjs.setConfig({
          video: {
            providers: [{
              divId: 'vid-div-1',
              // vendorCode for videojs
              vendorCode: 2,
              playerConfig: {
                params: {
                  vendorConfig: {
                    mediaid: 'd9J2zcaA',
                    advertising: {
                      adscheduleid: "00000000",
                      client: 'vast',
                      offset: "10",
                      tag: [
                        "http://playertest.longtailvideo.com/pre-bad.xml",
                        "http://playertest.longtailvideo.com/mid.xml"
                      ],
                    }
                  }
                }
              }
            },]
          }
        });
        pbjs.addAdUnits(adUnits);
        pbjs.requestBids();
      });
    </script>
</head>

<body>
    <h2>VideoJS Adapter Test</h2>
    
    <h5>Div-1 existing Player</h5>

    <video id='vid-div-1' class="video-js vjs-big-play-centered" data-setup='{"controls": true, "autoplay": false, "preload": "auto"}'>
      <source src="http://content.bitsontherun.com/videos/3XnJSIm4-52qL9xLP.mp4" type="video/mp4">
    </video>

    <h5>Div-2 existing player without automatic setup</h5>
    <video-js id='vid-div-2' data-setup='{"controls": true}'>
      <source src="http://content.bitsontherun.com/videos/3XnJSIm4-52qL9xLP.mp4" type="video/mp4">
    </video-js>

    <h5>Div-3 controlled Player</h5>
    <div id='vid-div-3'></div>


    <script src="https://vjs.zencdn.net/7.17.0/video.min.js"></script>
    <script>
    </script>
</body>

</html>

